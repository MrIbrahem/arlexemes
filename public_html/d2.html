<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <title>الفعل المجهول</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
            text-align: center;
            direction: rtl;
        }

        th,
        td {
            border: 1px solid #aaa;
            padding: 8px;
        }

        th {
            background-color: #f2f2f2;
        }

        .outer {
            font-weight: bold;
        }
    </style>
</head>

<body>

    <h2 id="title"></h2>
    <table id="verbTable"></table>

    <script>
        const data = {
            "name": "الفعل المعلوم",
            "tenses": {
                "ماضي": {
                    "المفرد": {
                        "المتكلم": "أُبْتُ",
                        "المخاطب": {
                            "مذكر": "أُبْتَ",
                            "مؤنث": "أُبْتِ"
                        },
                        "الغائب": {
                            "مذكر": "آبَ",
                            "مؤنث": "آبَتْ"
                        }
                    },
                    "المثنى": {
                        "المخاطب": "أُبْتُمَا",
                        "الغائب": {
                            "مذكر": "آبَا",
                            "مؤنث": "آبَتَا"
                        }
                    },
                    "الجمع": {
                        "المتكلم": "أُبْنَا",
                        "المخاطب": {
                            "مذكر": "أُبْتُمْ",
                            "مؤنث": "أُبْتُنَّ"
                        },
                        "الغائب": {
                            "مذكر": "آبُوا",
                            "مؤنث": "أُبْنَ"
                        }
                    }
                },
                "مضارع مرفوع": {
                    "المفرد": {
                        "المتكلم": "أَؤُوبُ",
                        "المخاطب": {
                            "مذكر": "تَؤُوبُ",
                            "مؤنث": "تَؤُوبِينَ"
                        },
                        "الغائب": {
                            "مذكر": "يَؤُوبُ",
                            "مؤنث": "تَؤُوبُ"
                        }
                    },
                    "المثنى": {
                        "المخاطب": "تَؤُوبَانِ",
                        "الغائب": {
                            "مذكر": "يَؤُوبَانِ",
                            "مؤنث": "تَؤُوبَانِ"
                        }
                    },
                    "الجمع": {
                        "المتكلم": "نَؤُوبُ",
                        "المخاطب": {
                            "مذكر": "تَؤُوبُونَ",
                            "مؤنث": "تَؤُبْنَ"
                        },
                        "الغائب": {
                            "مذكر": "يَؤُوبُونَ",
                            "مؤنث": "يَؤُبْنَ"
                        }
                    }
                },
                "مضارع منصوب": {
                    "المفرد": {
                        "المتكلم": "أَؤُوبَ",
                        "المخاطب": {
                            "مذكر": "تَؤُوبَ",
                            "مؤنث": "تَؤُوبِي"
                        },
                        "الغائب": {
                            "مذكر": "يَؤُوبَ",
                            "مؤنث": "تَؤُوبَ"
                        }
                    },
                    "المثنى": {
                        "المخاطب": "تَؤُوبَا",
                        "الغائب": {
                            "مذكر": "يَؤُوبَا",
                            "مؤنث": "تَؤُوبَا"
                        }
                    },
                    "الجمع": {
                        "المتكلم": "نَؤُوبَ",
                        "المخاطب": {
                            "مذكر": "تَؤُوبُوا",
                            "مؤنث": "تَؤُبْنَ"
                        },
                        "الغائب": {
                            "مذكر": "يَؤُوبُوا",
                            "مؤنث": "يَؤُبْنَ"
                        }
                    }
                },
                "مضارع مجزوم": {
                    "المفرد": {
                        "المتكلم": "أَؤُبْ",
                        "المخاطب": {
                            "مذكر": "تَؤُبْ",
                            "مؤنث": "تَؤُوبِي"
                        },
                        "الغائب": {
                            "مذكر": "يَؤُبْ",
                            "مؤنث": "تَؤُبْ"
                        }
                    },
                    "المثنى": {
                        "المخاطب": "تَؤُوبَا",
                        "الغائب": {
                            "مذكر": "يَؤُوبَا",
                            "مؤنث": "تَؤُوبَا"
                        }
                    },
                    "الجمع": {
                        "المتكلم": "نَؤُبْ",
                        "المخاطب": {
                            "مذكر": "تَؤُوبُوا",
                            "مؤنث": "تَؤُبْنَ"
                        },
                        "الغائب": {
                            "مذكر": "يَؤُوبُوا",
                            "مؤنث": "يَؤُبْنَ"
                        }
                    }
                },
                "الأمر": {
                    "المفرد": {
                        "المتكلم": "",
                        "المخاطب": {
                            "مذكر": "أُبْ",
                            "مؤنث": "أُوبِي"
                        },
                        "الغائب": ""
                    },
                    "المثنى": {
                        "المخاطب": "أُوبَا"
                    },
                    "الجمع": {
                        "المتكلم": "",
                        "المخاطب": {
                            "مذكر": "أُوبُوا",
                            "مؤنث": "أُبْنَ"
                        },
                        "الغائب": ""
                    }
                }
            }
        }
        document.getElementById("title").textContent = data.name;

        const numbers = ["المفرد", "المثنى", "الجمع"];
        const pronounsMap = {
            "المفرد": [
                "المتكلم",
                "المخاطب",
                "الغائب"
            ],
            "المثنى": [
                "المخاطب",
                "الغائب"
            ],
            "الجمع": [
                "المتكلم",
                "المخاطب",
                "الغائب"

            ]
        };
        const genders = ["مذكر", "مؤنث"];

        function getValue(entry) {
            if (typeof entry === "string") return entry;
            if (typeof entry === "object") {
                return genders.map(g => entry[g] || "").join("<br><hr>");
            }
            return "";
        }

        const table = document.getElementById("verbTable");

        // بناء رأس الجدول
        const header = table.insertRow();
        header.insertCell().outerHTML = `<th rowspan="2">الزمن</th><th rowspan="2">الحالة</th>`;
        numbers.forEach(num => {
            header.insertCell().outerHTML = `<th colspan="${pronounsMap[num].length}" class="outer">${num === "المفرد" ? "المفرد" : num === "المثنى" ? "المثنى" : "الجمع"}</th>`;
        });

        const header2 = table.insertRow();
        numbers.forEach(num => {
            pronounsMap[num].forEach(p => {
                header2.insertCell().outerHTML = `<th>${p}</th>`;
            });
        });

        // ملء البيانات
        for (const [tense, forms] of Object.entries(data.tenses)) {
            const row = table.insertRow();
            row.insertCell().outerHTML = `<th rowspan="1">${tense}</th>`;
            row.insertCell().outerHTML = `<td rowspan="1">مذكر<br><hr>مؤنث</td>`;

            numbers.forEach(num => {
                pronounsMap[num].forEach(p => {
                    const value = forms[num]?.[p];
                    let val = getValue(value);
                    row.insertCell().outerHTML = `<td rowspan="1">${val}</td>`;
                });
            });
        }
    </script>

</body>

</html>
