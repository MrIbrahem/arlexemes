# أداة تحليل المفردات العربية

تطبيق ويب شامل لتحليل ومقارنة وإدارة البيانات المعجمية العربية من ويكي بيانات مع التكامل مع الأنطولوجيا العربية.  

## الميزات

### التحليل المعجمي
- **التحليل الصرفي**: تحليل تفاعلي للمعجميات مع توليد جداول صرفية  
- **البحث التلقائي**: بحث في الوقت الفعلي مع تكامل ويكي بيانات  
- **دعم الفئات**: تحليل الصفات (Q34698)، الأفعال (Q24905)، الأسماء (Q1084)، والجذور (Q111029)  

### إدارة البيانات
- **قائمة المعجميات**: تصفح وتصفية المعجميات حسب الفئة مع دعم التصفح بالصفحات  
- **المعجميات الحديثة**: عرض أحدث الإضافات إلى قاعدة بيانات المعجميات العربية  
- **التصور الشجري**: عرض هرمي للبيانات المعجمية مع خيارات التجميع  

### مراقبة الجودة
- **كشف التكرار**: تحديد ومقارنة الإدخالات المعجمية المكررة  
- **المقارنة الجانبية**: مقارنة معجميات متعددة مع تحليل مفصل للخصائص  
- **تكامل الأنطولوجيا العربية**: تتبع خاصية P11038 وحالة المزامنة  

### التصور البياني
- **المخططات الإحصائية**: تمثيل بصري لتوزيعات الفئات المعجمية  
- **مقاييس الأداء**: تتبع وقت تنفيذ الاستعلامات وعدد البيانات في الوقت الفعلي  

## الهيكلية

### مكونات الواجهة الأمامية
- **قوالب PHP**: نظام قوالب مبني على Jinja2 ممتد من القالب الأساسي `main.php`  
- **وحدات JavaScript**: معالجة وحداتية على جانب العميل لاستعلامات SPARQL والتصور البياني  
- **واجهة Bootstrap**: تصميم متجاوب مع دعم اللغة العربية والاتجاه من اليمين لليسار  

### أنظمة الواجهة الخلفية
- **تطبيق Flask**: إطار عمل ويب بايثون للتوجيه وعرض القوالب  
- **تكامل قاعدة البيانات**: عمليات MySQL لتخزين المعجميات وإدارة خاصية P11038  
- **تكامل SPARQL**: استعلامات مباشرة لواجهة SPARQL الخاصة بويكي بيانات مع معالجة النتائج  

### المزامنة التلقائية
- **المهام المجدولة**: مزامنة كل ساعة مع ويكي بيانات باستخدام مجدول Toolforge  
- **معالجة البيانات**: كشف تلقائي للمعجميات الجديدة وتحديثات خاصية P11038  

## التقنيات الرئيسية

- **الخلفية**: Python 3.11، Flask، MySQL  
- **الواجهة الأمامية**: JavaScript ES6+، Bootstrap 5، Chart.js، DataTables  
- **مصادر البيانات**: واجهة SPARQL لويكي بيانات، الأنطولوجيا العربية  
- **البنية التحتية**: استضافة Toolforge مع جدولة المهام تلقائياً  

## تدفق البيانات

يعالج التطبيق البيانات المعجمية العربية عبر خط أنابيب متعدد المراحل:  

1. **استرجاع البيانات**: استعلامات SPARQL لجلب بيانات المعجميات من ويكي بيانات  
2. **المعالجة**: JavaScript على جانب العميل لتحويل وتجميع النتائج حسب الفئة  
3. **التصور**: عرض ديناميكي للجداول والمخططات وواجهات المقارنة  
4. **المزامنة**: مهام تلقائية للحفاظ على اتساق قاعدة البيانات مع المصادر الخارجية  

## التطوير والعمليات

### إعداد بيئة التطوير

يتطلب النظام Python 3.11 مع Flask و MySQL. إعداد بيئة التطوير يشمل:  

- **البيئة الافتراضية**: بيئة بايثون افتراضية مع تثبيت المتطلبات  
- **مخطط قاعدة البيانات**: قاعدة بيانات MySQL بترميز UTF8MB4 لدعم النصوص العربية  
- **إطار الاختبار**: اختبارات وحدات لعمليات قاعدة البيانات والتحقق من صحة البيانات  

### عملية النشر

يستخدم نظام النشر سكربتات شل تلقائية لتحديث الكود وإدارة الخدمات:  

**خط أنابيب النشر**:  
1. **إنشاء نسخة احتياطية**: نسخ الكود الحالي احتياطياً مع الطابع الزمني  
2. **استنساخ Git**: استنساخ جديد من المستودع من الفرع المحدد  
3. **تثبيت التبعيات**: تفعيل البيئة الافتراضية وتنفيذ pip install  
4. **إعادة تشغيل الخدمة**: إعادة تشغيل خدمة الويب تلقائياً على Python 3.11  

يشمل سكربت النشر معالجة الأخطاء مع استرجاع تلقائي للنسخة السابقة إذا فشل النشر.  

### عمليات البيانات

**إدخال البيانات بالجملة**: سكربت `insert_all.py` يدير عمليات استيراد كبيرة للبيانات من ملفات JSON عبر المعالجة على دفعات (100 سجل في الدفعة) مع كشف التكرار.  

**صيانة قاعدة البيانات**:  
- إدارة المخطط عبر سكربتات SQL لكل من MySQL و SQLite  
- التحقق التلقائي من صحة البيانات ومراقبة الجودة عبر وحدات بوت متخصصة  
- مراقبة الأداء مع تتبع وقت تنفيذ جميع العمليات  

### المراقبة والأداء

يتضمن النظام مراقبة شاملة للأداء:  

- **توقيت الطلبات**: وسيط Flask يتتبع وقت معالجة الطلبات الكلي  
- **أداء قاعدة البيانات**: قياس وقت تنفيذ الاستعلامات الفردية والإبلاغ عنها  
- **أداء SPARQL**: قياس وقت استدعاءات API الخارجية لتكامل ويكي بيانات  

### الاختبار وضمان الجودة

يشمل إطار الاختبار التحقق من عمليات قاعدة البيانات وسلامة البيانات:  

- **اختبارات الوحدات**: اختبار عمليات الإدخال والاختيار في قاعدة البيانات  
- **التحقق من البيانات**: فحوصات تلقائية لاتساق lemma ومزامنة خاصية P11038  
- **اختبار الأداء**: مراقبة وقت تنفيذ الاستعلامات للتحسين  

## ملاحظات

يوفر النظام إمكانيات شاملة لتحليل المعجميات العربية مع تكامل مباشر مع ويكي بيانات في الوقت الفعلي. تفصل الهيكلية المعيارية بين معالجة البيانات، التصور، ومكونات المزامنة. يدعم التطبيق كلاً من سير العمل اليدوي وإدارة البيانات التلقائية عبر مهام المزامنة المجدولة
